---
import type { AstroComponentFactory } from "astro/runtime/server/index.js";
interface CardProps {
  title?: string;
  content?: string;
  icon?: AstroComponentFactory | string;
  image?: string;
  order?: string;
  position?: string;
  initials?: string;
  variant?: "services" | "work" | "team" | "testimonials" | "technologies";
}
const { title, content, icon, image, variant, position, initials }: CardProps = Astro.props;

const variants = {
  services:
    "border border-[#222833] hover:shadow-lg shadow-[#13D9EB] hover-scale-105",
  work: "border border-[#222833] hover-scale-105",
  team: "border border-[#222833] hover:shadow-lg shadow-[#13D9EB] hover-scale-105"
};
const iconStyles = {
  services:
    "w-20 h-20 rounded-2xl bg-linear-to-br from-[#0f172a] via-[#111827] to-[#1e293b] flex items-center justify-center shadow-lg shadow-cyan-500/10",
  work: "w-20 h-20 rounded-2xl bg-linear-to-br from-[#0f172a] via-[#111827] to-[#1e293b] flex items-center justify-center shadow-lg shadow-cyan-500/10 mx-auto",
  team: ""
};
const titleStyles = {
  services:
    "py-5 text-2xl md:text-3xl font-bold transition-colors duration-200",
  work: "text-center text-2xl font-bold my-2",
  team: "py-5 text-2xl md:text-3xl font-bold transition-colors duration-200"
};
const contentStyles = {
  services: "mt-2 opacity-80 text-lg md:text-xl md:pr-14",
  work: "mt-2 opacity-80 text-md md:text-lg",
  team: "mt-2 opacity-80 text-lg md:text-xl"
};
const titleHover = {
  services: "group-hover:text-[#13cee1]",
};
const underlineHover = {
  services:
    "relative inline-block text-white after:absolute after:left-0 after:-bottom-1 after:h-[2px] after:w-0  after:bg-linear-to-r after:from-cyan-400 after:to-purple-500 after:transition-all after:duration-300 group-hover:after:w-full",
};
---

<div
  class={`group px-5 py-5 md:px-10 md:py-10 rounded-xl transition-all hover:scale-[1.02] ${variants[variant]}`}
>
  {
    image && (
      <div
        class="group relative rounded-3xl border border-white/10
         bg-[#0b1220]
         p-6
         transition hover:border-white/20"
      >
        <div
          class="absolute inset-0 rounded-3xl
           bg-linear-to-br from-cyan-400/5 to-purple-500/5
           opacity-0 group-hover:opacity-100
           transition"
        />

        <div class="relative flex items-center justify-center">
          <div
            class="w-32 h-32 rounded-2xl
             bg-linear-to-br from-[#0f172a] via-[#111827] to-[#2b1f47]
             flex items-center justify-center
             shadow-lg shadow-cyan-500/10"
          >
            <img
              src={image}
              alt="Cliente"
              class="w-32 h-32 object-contain rounded-xl"
            />
          </div>
        </div>
      </div>
    )
  }
  {
  initials && (
    <div class="flex justify-center mb-6">
      <div class="relative">
        <!-- glow -->
        <div class="absolute -inset-4 rounded-full bg-cyan-400/15 blur-2xl"></div>

        <!-- cÃ­rculo -->
        <div
          class="relative w-28 h-28 rounded-full
                 bg-linear-to-br from-cyan-400/35 via-sky-500/25 to-purple-500/35
                 ring-1 ring-cyan-400/30
                 shadow-[0_0_45px_rgba(34,211,238,0.25)]
                 flex items-center justify-center"
        >
          <span class="text-4xl font-extrabold text-cyan-300 tracking-wide">
            {initials}
          </span>
        </div>
      </div>
    </div>
  )
}

  {icon && <div class={`${iconStyles[variant]}`} set:html={icon} />}

  <h3 class={`${titleStyles[variant]}  ${titleHover[variant]} `}>
    {title}
  </h3>
  {
    position && (
      <p class="mt-2 opacity-80 text-lg md:text-xl text-[#13cee1]">{position}</p>
    )
  }
  <p class={`${contentStyles[variant]}`}>
    {content}
  </p>
  <div class=`w-full ${underlineHover[variant]}`></div>
</div>
